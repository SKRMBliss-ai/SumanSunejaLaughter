import React, { createContext, useContext, useState, useEffect } from 'react';

export type Theme = 'light' | 'dark';
export type Language = 'en' | 'hi' | 'es' | 'ar' | 'fr' | 'de' | 'ja';
export type FontSize = 'small' | 'normal' | 'large' | 'xl';

interface SettingsContextType {
  theme: Theme;
  toggleTheme: () => void;
  language: Language;
  setLanguage: (lang: Language) => void;
  fontSize: FontSize;
  setFontSize: (size: FontSize) => void;
  t: (key: string) => string;
  dir: 'ltr' | 'rtl';
}

export const SUPPORTED_LANGUAGES: { code: Language, label: string }[] = [
  { code: 'en', label: 'English' },
  { code: 'hi', label: 'हिंदी' },
  { code: 'es', label: 'Español' },
  { code: 'ar', label: 'العربية' },
  { code: 'fr', label: 'Français' },
  { code: 'de', label: 'Deutsch' },
  { code: 'ja', label: '日本語' },
];

const translations: Record<Language, Record<string, string>> = {
  en: {
    'home.welcome': 'Ignite Your Inner Joy',
    'home.subtitle': 'Boost immunity & relieve stress with expert guidance from Suman Suneja.',
    'home.test_laugh': 'Test Your Laugh',
    'nav.home': 'Home',
    'nav.videos': 'Videos',
    'nav.games': 'Games',
    'nav.coach': 'Coach',
    'nav.ask_ai': 'Ask Suman',
    'profile.title': 'Your Profile',
    'profile.subtitle': 'Customize your joy identity',
    'settings.dark_mode': 'Dark Mode',
    'settings.language': 'Language',
    'settings.font_size': 'Font Size',
    'streak': 'Day Streak',
    'points': 'Points',
    'level': 'Level',
    'today': 'Today',
    'save_changes': 'Save Changes',
    'sign_out': 'Sign Out',
    'daily_session': 'Daily Laughter Yoga',
    'join_session': 'Join Daily Session',
    'every_day': 'Every Day',
    'traditional_yoga': 'Traditional & Laughter Yoga',
    'join_yoga': 'Join Yoga Class',
    'mon_fri': 'Mon - Fri',
    'fun_games': 'Fun Games',
    'book_session': 'Book Session',
    'contact': 'Contact',

    // Contact
    'contact.header_title': "Let's Make Magic Happen!",
    'contact.header_subtitle': "Booking a session is the first step to a happier, healthier life.",
    'contact.whatsapp_btn': "WhatsApp Us",
    'contact.instant_reply': "Instant Reply",
    'contact.email_btn': "Send Email",
    'contact.for_enquiries': "For Enquiries",
    'contact.offerings_title': "What we offer",
    'contact.offering_1_title': "1-on-1",
    'contact.offering_1_desc': "Personal Coaching",
    'contact.offering_2_title': "Corporate",
    'contact.offering_2_desc': "Stress Relief",
    'contact.offering_3_title': "Groups",
    'contact.offering_3_desc': "Workshops",
    'contact.offering_4_title': "Retreats",
    'contact.offering_4_desc': "Wellness Days",
    'contact.youtube_btn': "Watch on YouTube",
    'contact.subscribe': "Subscribe",
    'contact.website_btn': "Visit Official Website",
    'app.developed_by': "App Developed by",

    // Profile
    'profile.display_name': "Display Name",
    'profile.enter_name_placeholder': "Enter your name",
    'profile.phone_number': "Phone Number",
    'profile.no_number': "No number linked",
    'profile.streak_power': "STREAK POWER",
    'profile.start_today': "Start today!",
    'profile.bonus': "Bonus",

    // Games
    'games.title': "AI Laughter Lab",
    'games.subtitle_jokes': "One-Liner Joke Generator",
    'games.subtitle_joy': "Experimental Joy Generator",
    'games.tab_story': "Story",
    'games.tab_jokes': "Jokes",
    'games.tab_moods': "Moods",
    'games.speaking': "Speaking...",
    'games.writing_joke': "Writing a zinger...",
    'games.brewing_laughter': "Brewing Laughter...",
    'games.funny_mode': "Funny Mode",
    'games.ai_mode': "AI Mode",
    'games.play_real_laughter': "Play Real Laughter",
    'games.offline_voice': "Offline Voice",
    'games.input_placeholder_story': "Situation (e.g. Missed Alarm)",
    'games.input_placeholder_joke': "Topic (e.g. Cats, Boss, Coffee)",
    'games.input_placeholder_mood': "Select a mood to hear different laughter styles.",
    'games.btn_joke': "Tell Me a Joke & Laugh!",
    'games.btn_story': "Generate Joy Story",
    'games.stop_audio': "Stop Audio",
    'games.mood_giggle': "Giggle Fit",
    'games.mood_belly': "Belly Laugh",
    'games.mood_snort': "Snort Laugh",
    'games.mood_cackle': "Witchy Cackle"
  },
  hi: {
    'home.welcome': 'अपनी आंतरिक खुशी को जगाएं',
    'home.subtitle': 'सुमन सुनेजा के मार्गदर्शन के साथ प्रतिरक्षा बढ़ाएं और तनाव दूर करें।',
    'home.test_laugh': 'हंसी की जांच करें',
    'nav.home': 'होम',
    'nav.videos': 'वीडियो',
    'nav.games': 'खेल',
    'nav.coach': 'कोच',
    'nav.ask_ai': 'सुमन से पूछें',
    'profile.title': 'आपकी प्रोफाइल',
    'profile.subtitle': 'अपनी पहचान को अनुकूलित करें',
    'settings.dark_mode': 'डार्क मोड',
    'settings.language': 'भाषा',
    'settings.font_size': 'फ़ॉन्ट आकार',
    'streak': 'स्ट्रीक',
    'points': 'अंक',
    'level': 'स्तर',
    'today': 'आज',
    'save_changes': 'सहेजें',
    'sign_out': 'साइन आउट',
    'daily_session': 'दैनिक हास्य योग',
    'join_session': 'शामिल हों',
    'every_day': 'हर दिन',
    'traditional_yoga': 'पारंपरिक और हास्य योग',
    'join_yoga': 'योग कक्षा',
    'mon_fri': 'सोम - शुक्र',
    'fun_games': 'मजेदार खेल',
    'book_session': 'सत्र बुक करें',
    'contact': 'संपर्क',

    // Contact
    'contact.header_title': "चलो जादू करते हैं!",
    'contact.header_subtitle': "एक सत्र बुक करना एक खुशहाल, स्वस्थ जीवन की ओर पहला कदम है।",
    'contact.whatsapp_btn': "व्हाट्सएप करें",
    'contact.instant_reply': "त्वरित उत्तर",
    'contact.email_btn': "ईमेल भेजें",
    'contact.for_enquiries': "पूछताछ के लिए",
    'contact.offerings_title': "हम क्या प्रदान करते हैं",
    'contact.offering_1_title': "1-पर-1",
    'contact.offering_1_desc': "व्यक्तिगत कोचिंग",
    'contact.offering_2_title': "कॉर्पोरेट",
    'contact.offering_2_desc': "तनाव से राहत",
    'contact.offering_3_title': "समूह",
    'contact.offering_3_desc': "कार्यशालाएं",
    'contact.offering_4_title': "रिट्रीट",
    'contact.offering_4_desc': "वेलनेस डेज़",
    'contact.youtube_btn': "YouTube पर देखें",
    'contact.subscribe': "सदस्यता लें",
    'contact.website_btn': "आधिकारिक वेबसाइट पर जाएं",
    'app.developed_by': "ऐप द्वारा विकसित",

    // Profile
    'profile.display_name': "प्रदर्शन नाम",
    'profile.enter_name_placeholder': "अपना नाम दर्ज करें",
    'profile.phone_number': "फ़ोन नंबर",
    'profile.no_number': "कोई नंबर लिंक नहीं है",
    'profile.streak_power': "स्ट्रीक पावर",
    'profile.start_today': "आज ही शुरू करें!",
    'profile.bonus': "बोनस",

    // Games
    'games.title': "एआई लाफ्टर लैब",
    'games.subtitle_jokes': "वन-लाइनर जोक जेनरेटर",
    'games.subtitle_joy': "प्रायोगिक जॉय जेनरेटर",
    'games.tab_story': "कहानी",
    'games.tab_jokes': "चुटकुले",
    'games.tab_moods': "मूड",
    'games.speaking': "बोल रहा हूँ...",
    'games.writing_joke': "एक चुटकुला लिख रहा हूँ...",
    'games.brewing_laughter': "हंसी बना रहा हूँ...",
    'games.funny_mode': "मजेदार मोड",
    'games.ai_mode': "एआई मोड",
    'games.play_real_laughter': "असली हंसी चलाएं",
    'games.offline_voice': "ऑफ़लाइन आवाज़",
    'games.input_placeholder_story': "स्थिति (जैसे अलार्म छूट गया)",
    'games.input_placeholder_joke': "विषय (जैसे बिल्लियाँ, बॉस, कॉफ़ी)",
    'games.input_placeholder_mood': "विभिन्न हंसी शैलियों को सुनने के लिए एक मूड चुनें।",
    'games.btn_joke': "मुझे एक चुटकुला सुनाओ और हँसो!",
    'games.btn_story': "जॉय स्टोरी जेनरेट करें",
    'games.stop_audio': "ऑडियो रोकें",
    'games.mood_giggle': "खिसियाना",
    'games.mood_belly': "पेट पकड़कर हंसना",
    'games.mood_snort': "नाक से हंसना",
    'games.mood_cackle': "चुड़ैल जैसी हंसी"
  },
  es: {
    'home.welcome': 'Enciende tu Alegría',
    'home.subtitle': 'Mejora la inmunidad y alivia el estrés con Suman Suneja.',
    'home.test_laugh': 'Prueba tu Risa',
    'nav.home': 'Inicio',
    'nav.videos': 'Videos',
    'nav.games': 'Juegos',
    'nav.coach': 'Entrenador',
    'nav.ask_ai': 'Pregunta Suman',
    'profile.title': 'Tu Perfil',
    'profile.subtitle': 'Personaliza tu identidad',
    'settings.dark_mode': 'Modo Oscuro',
    'settings.language': 'Idioma',
    'settings.font_size': 'Tamaño de letra',
    'streak': 'Racha',
    'points': 'Puntos',
    'level': 'Nivel',
    'today': 'Hoy',
    'save_changes': 'Guardar',
    'sign_out': 'Salir',
    'daily_session': 'Yoga de la Risa',
    'join_session': 'Unirse',
    'every_day': 'Diario',
    'traditional_yoga': 'Yoga Tradicional',
    'join_yoga': 'Unirse Clase',
    'mon_fri': 'Lun - Vie',
    'fun_games': 'Juegos',
    'book_session': 'Reservar',
    'contact': 'Contacto',

    // Contact
    'contact.header_title': "¡Hagamos Magia!",
    'contact.header_subtitle': "Reservar una sesión es el primer paso hacia una vida más feliz.",
    'contact.whatsapp_btn': "WhatsApp",
    'contact.instant_reply': "Respuesta Inmediata",
    'contact.email_btn': "Enviar Email",
    'contact.for_enquiries': "Para Consultas",
    'contact.offerings_title': "Lo que ofrecemos",
    'contact.offering_1_title': "1-a-1",
    'contact.offering_1_desc': "Coaching Personal",
    'contact.offering_2_title': "Corporativo",
    'contact.offering_2_desc': "Alivio del Estrés",
    'contact.offering_3_title': "Grupos",
    'contact.offering_3_desc': "Talleres",
    'contact.offering_4_title': "Retiros",
    'contact.offering_4_desc': "Días de Bienestar",
    'contact.youtube_btn': "Ver en YouTube",
    'contact.subscribe': "Suscribirse",
    'contact.website_btn': "Visitar Sitio Web",
    'app.developed_by': "App Desarrollada por",

    // Profile
    'profile.display_name': "Nombre",
    'profile.enter_name_placeholder': "Ingresa tu nombre",
    'profile.phone_number': "Teléfono",
    'profile.no_number': "Sin número vinculado",
    'profile.streak_power': "PODER DE RACHA",
    'profile.start_today': "¡Empieza hoy!",
    'profile.bonus': "Bono",

    // Games
    'games.title': "Laboratorio de Risa IA",
    'games.subtitle_jokes': "Generador de Chistes",
    'games.subtitle_joy': "Generador de Alegría",
    'games.tab_story': "Historia",
    'games.tab_jokes': "Chistes",
    'games.tab_moods': "Estados",
    'games.speaking': "Hablando...",
    'games.writing_joke': "Escribiendo broma...",
    'games.brewing_laughter': "Preparando risa...",
    'games.funny_mode': "Modo Gracioso",
    'games.ai_mode': "Modo IA",
    'games.play_real_laughter': "Reproducir Risa Real",
    'games.offline_voice': "Voz Offline",
    'games.input_placeholder_story': "Situación (ej. Alarma perdida)",
    'games.input_placeholder_joke': "Tema (ej. Gatos, Jefe, Café)",
    'games.input_placeholder_mood': "Elige un estado de ánimo.",
    'games.btn_joke': "¡Cuéntame un chiste!",
    'games.btn_story': "Generar Historia de Alegría",
    'games.stop_audio': "Detener Audio",
    'games.mood_giggle': "Risita",
    'games.mood_belly': "Carcajada",
    'games.mood_snort': "Risa con resoplido",
    'games.mood_cackle': "Risa de bruja"
  },
  ar: {
    'home.welcome': 'أشعل فرحك الداخلي',
    'home.subtitle': 'عزز المناعة وخفف التوتر بتوجيه من خبيرة يوغا الضحك सुमन سونيجا.',
    'home.test_laugh': 'اختبر ضحكتك',
    'nav.home': 'الرئيسية',
    'nav.videos': 'فيديو',
    'nav.games': 'ألعاب',
    'nav.coach': 'مدرب',
    'nav.ask_ai': 'اسأل سومان',
    'profile.title': 'ملفك الشخصي',
    'profile.subtitle': 'خصص هويتك السعيدة',
    'settings.dark_mode': 'الوضع الليلي',
    'settings.language': 'اللغة',
    'settings.font_size': 'حجم الخط',
    'streak': 'أيام متتالية',
    'points': 'نقاط',
    'level': 'مستوى',
    'today': 'اليوم',
    'save_changes': 'حفظ التغييرات',
    'sign_out': 'تسجيل خروج',
    'daily_session': 'يوغا الضحك اليومية',
    'join_session': 'انضم للجلسة',
    'every_day': 'كل يوم',
    'traditional_yoga': 'يوغا تقليدية وضحك',
    'join_yoga': 'انضم لصف اليوغا',
    'mon_fri': 'اثنين - جمعة',
    'fun_games': 'ألعاب مرحة',
    'book_session': 'احجز جلسة',
    'contact': 'اتصل بنا',

    // Contact
    'contact.header_title': "لنصنع السحر!",
    'contact.header_subtitle': "حجز جلسة هو الخطوة الأولى لحياة أكثر سعادة.",
    'contact.whatsapp_btn': "واتساب",
    'contact.instant_reply': "رد فوري",
    'contact.email_btn': "أرسل بريد إلكتروني",
    'contact.for_enquiries': "للاستفسارات",
    'contact.offerings_title': "ماذا نقدم",
    'contact.offering_1_title': "1-على-1",
    'contact.offering_1_desc': "تدريب شخصي",
    'contact.offering_2_title': "شركات",
    'contact.offering_2_desc': "تخفيف التوتر",
    'contact.offering_3_title': "مجموعات",
    'contact.offering_3_desc': "ورش عمل",
    'contact.offering_4_title': "خلوات",
    'contact.offering_4_desc': "أيام العافية",
    'contact.youtube_btn': "شاهد على يوتيوب",
    'contact.subscribe': "اشترك",
    'contact.website_btn': "زيارة الموقع الرسمي",
    'app.developed_by': "تم تطوير التطبيق بواسطة",

    // Profile
    'profile.display_name': "الاسم المعروض",
    'profile.enter_name_placeholder': "أدخل اسمك",
    'profile.phone_number': "رقم الهاتف",
    'profile.no_number': "لا يوجد رقم مرتبط",
    'profile.streak_power': "قوة التتابع",
    'profile.start_today': "ابدأ اليوم!",
    'profile.bonus': "مكافأة",

    // Games
    'games.title': "مختبر ضحك الذكاء الاصطناعي",
    'games.subtitle_jokes': "مولد النكات",
    'games.subtitle_joy': "مولد الفرح",
    'games.tab_story': "قصة",
    'games.tab_jokes': "نكات",
    'games.tab_moods': "مزاج",
    'games.speaking': "يتحدث...",
    'games.writing_joke': "يكتب نكتة...",
    'games.brewing_laughter': "يخمر الضحك...",
    'games.funny_mode': "وضع مضحك",
    'games.ai_mode': "وضع الذكاء الاصطناعي",
    'games.play_real_laughter': "تشغيل ضحك حقيقي",
    'games.offline_voice': "صوت غير متصل",
    'games.input_placeholder_story': "موقف (مثلاً: فاتني المنبه)",
    'games.input_placeholder_joke': "موضوع (مثلاً: قطط، مدير، قهوة)",
    'games.input_placeholder_mood': "اختر مزاجاً لسماع ضحكات مختلفة.",
    'games.btn_joke': "قل لي نكتة واضحك!",
    'games.btn_story': "توليد قصة فرح",
    'games.stop_audio': "إيقاف الصوت",
    'games.mood_giggle': "قهقهة",
    'games.mood_belly': "ضحك من البطن",
    'games.mood_snort': "ضحك مع شخير",
    'games.mood_cackle': "ضحكة ساحرة"
  },
  fr: {
    'home.welcome': 'Allumez votre joie intérieure',
    'home.subtitle': 'Boostez l\'immunité et soulagez le stress avec les conseils d\'expert de Suman Suneja.',
    'home.test_laugh': 'Testez votre rire',
    'nav.home': 'Accueil',
    'nav.videos': 'Vidéos',
    'nav.games': 'Jeux',
    'nav.coach': 'Coach',
    'nav.ask_ai': 'Demander Suman',
    'profile.title': 'Votre Profil',
    'profile.subtitle': 'Personnalisez votre identité',
    'settings.dark_mode': 'Mode Sombre',
    'settings.language': 'Langue',
    'settings.font_size': 'Taille de la police',
    'streak': 'Série',
    'points': 'Points',
    'level': 'Niveau',
    'today': 'Aujourd\'hui',
    'save_changes': 'Sauvegarder',
    'sign_out': 'Déconnexion',
    'daily_session': 'Yoga du Rire Quotidien',
    'join_session': 'Rejoindre',
    'every_day': 'Chaque Jour',
    'traditional_yoga': 'Yoga Traditionnel',
    'join_yoga': 'Rejoindre le Cours',
    'mon_fri': 'Lun - Ven',
    'fun_games': 'Jeux Amusants',
    'book_session': 'Réserver',
    'contact': 'Contact',

    // Contact
    'contact.header_title': "Faisons de la Magie !",
    'contact.header_subtitle': "Réserver une séance est la première étape vers une vie plus heureuse.",
    'contact.whatsapp_btn': "WhatsApp",
    'contact.instant_reply': "Réponse Instantanée",
    'contact.email_btn': "Envoyer Email",
    'contact.for_enquiries': "Pour Renseignements",
    'contact.offerings_title': "Ce que nous offrons",
    'contact.offering_1_title': "1-sur-1",
    'contact.offering_1_desc': "Coaching Personnel",
    'contact.offering_2_title': "Entreprise",
    'contact.offering_2_desc': "Gestion du Stress",
    'contact.offering_3_title': "Groupes",
    'contact.offering_3_desc': "Ateliers",
    'contact.offering_4_title': "Retraites",
    'contact.offering_4_desc': "Journées Bien-être",
    'contact.youtube_btn': "Voir sur YouTube",
    'contact.subscribe': "S'abonner",
    'contact.website_btn': "Visiter Site Officiel",
    'app.developed_by': "App Développée par",

    // Profile
    'profile.display_name': "Nom d'affichage",
    'profile.enter_name_placeholder': "Entrez votre nom",
    'profile.phone_number': "Numéro de téléphone",
    'profile.no_number': "Aucun numéro lié",
    'profile.streak_power': "PUISSANCE DE SÉRIE",
    'profile.start_today': "Commencez aujourd'hui !",
    'profile.bonus': "Bonus",

    // Games
    'games.title': "Labo de Rire IA",
    'games.subtitle_jokes': "Générateur de Blagues",
    'games.subtitle_joy': "Générateur de Joie",
    'games.tab_story': "Histoire",
    'games.tab_jokes': "Blagues",
    'games.tab_moods': "Humeurs",
    'games.speaking': "Parle...",
    'games.writing_joke': "Écrit une blague...",
    'games.brewing_laughter': "Prépare le rire...",
    'games.funny_mode': "Mode Drôle",
    'games.ai_mode': "Mode IA",
    'games.play_real_laughter': "Jouer Rire Réel",
    'games.offline_voice': "Voix Hors Ligne",
    'games.input_placeholder_story': "Situation (ex. Réveil raté)",
    'games.input_placeholder_joke': "Sujet (ex. Chats, Patron, Café)",
    'games.input_placeholder_mood': "Choisissez une humeur.",
    'games.btn_joke': "Raconte une blague !",
    'games.btn_story': "Générer Histoire de Joie",
    'games.stop_audio': "Arrêter Audio",
    'games.mood_giggle': "Gloussement",
    'games.mood_belly': "Rire de ventre",
    'games.mood_snort': "Rire cochon",
    'games.mood_cackle': "Rire de sorcière"
  },
  de: {
    'home.welcome': 'Entfache deine innere Freude',
    'home.subtitle': 'Stärke dein Immunsystem und baue Stress ab mit Expertenrat von Suman Suneja.',
    'home.test_laugh': 'Teste dein Lachen',
    'nav.home': 'Start',
    'nav.videos': 'Videos',
    'nav.games': 'Spiele',
    'nav.coach': 'Coach',
    'nav.ask_ai': 'Frag Suman',
    'profile.title': 'Dein Profil',
    'profile.subtitle': 'Personalisiere deine Identität',
    'settings.dark_mode': 'Dunkelmodus',
    'settings.language': 'Sprache',
    'settings.font_size': 'Schriftgröße',
    'streak': 'Serie',
    'points': 'Punkte',
    'level': 'Level',
    'today': 'Heute',
    'save_changes': 'Speichern',
    'sign_out': 'Abmelden',
    'daily_session': 'Tägliches Lachyoga',
    'join_session': 'Beitreten',
    'every_day': 'Täglich',
    'traditional_yoga': 'Traditionelles Yoga',
    'join_yoga': 'Kurs beitreten',
    'mon_fri': 'Mo - Fr',
    'fun_games': 'Lustige Spiele',
    'book_session': 'Sitzung buchen',
    'contact': 'Kontakt',

    // Contact
    'contact.header_title': "Lass uns Magie machen!",
    'contact.header_subtitle': "Eine Sitzung zu buchen ist der erste Schritt zu einem glücklicheren Leben.",
    'contact.whatsapp_btn': "WhatsApp uns",
    'contact.instant_reply': "Sofortantwort",
    'contact.email_btn': "E-Mail senden",
    'contact.for_enquiries': "Für Anfragen",
    'contact.offerings_title': "Was wir bieten",
    'contact.offering_1_title': "1-zu-1",
    'contact.offering_1_desc': "Persönliches Coaching",
    'contact.offering_2_title': "Firmen",
    'contact.offering_2_desc': "Stressabbau",
    'contact.offering_3_title': "Gruppen",
    'contact.offering_3_desc': "Workshops",
    'contact.offering_4_title': "Retreats",
    'contact.offering_4_desc': "Wellness-Tage",
    'contact.youtube_btn': "Auf YouTube ansehen",
    'contact.subscribe': "Abonnieren",
    'contact.website_btn': "Offizielle Website",
    'app.developed_by': "App entwickelt von",

    // Profile
    'profile.display_name': "Anzeigename",
    'profile.enter_name_placeholder': "Name eingeben",
    'profile.phone_number': "Telefonnummer",
    'profile.no_number': "Keine Nummer verknüpft",
    'profile.streak_power': "SERIEN-POWER",
    'profile.start_today': "Starte heute!",
    'profile.bonus': "Bonus",

    // Games
    'games.title': "KI-Lachlabor",
    'games.subtitle_jokes': "Witz-Generator",
    'games.subtitle_joy': "Freude-Generator",
    'games.tab_story': "Geschichte",
    'games.tab_jokes': "Witze",
    'games.tab_moods': "Launen",
    'games.speaking': "Spricht...",
    'games.writing_joke': "Schreibt einen Witz...",
    'games.brewing_laughter': "Braut Gelächter...",
    'games.funny_mode': "Lustiger Modus",
    'games.ai_mode': "KI-Modus",
    'games.play_real_laughter': "Echtes Lachen abspielen",
    'games.offline_voice': "Offline-Stimme",
    'games.input_placeholder_story': "Situation (z.B. Wecker verpasst)",
    'games.input_placeholder_joke': "Thema (z.B. Katzen, Chef, Kaffee)",
    'games.input_placeholder_mood': "Wähle eine Stimmung.",
    'games.btn_joke': "Erzähl mir einen Witz!",
    'games.btn_story': "Freudengeschichte generieren",
    'games.stop_audio': "Audio stoppen",
    'games.mood_giggle': "Kichern",
    'games.mood_belly': "Bauchlachen",
    'games.mood_snort': "Grunzlachen",
    'games.mood_cackle': "Hexenlachen"
  },
  ja: {
    'home.welcome': '内なる喜びを点火しよう',
    'home.subtitle': 'Suman Sunejaの専門的な指導で免疫力を高め、ストレスを解消しましょう。',
    'home.test_laugh': '笑いをテスト',
    'nav.home': 'ホーム',
    'nav.videos': '動画',
    'nav.games': 'ゲーム',
    'nav.coach': 'コーチ',
    'nav.ask_ai': 'Sumanに聞く',
    'profile.title': 'プロフィール',
    'profile.subtitle': '喜びのIDをカスタマイズ',
    'settings.dark_mode': 'ダークモード',
    'settings.language': '言語',
    'settings.font_size': '文字サイズ',
    'streak': '連続記録',
    'points': 'ポイント',
    'level': 'レベル',
    'today': '今日',
    'save_changes': '保存',
    'sign_out': 'ログアウト',
    'daily_session': '毎日のラフターヨガ',
    'join_session': '参加する',
    'every_day': '毎日',
    'traditional_yoga': '伝統的＆ラフターヨガ',
    'join_yoga': 'クラスに参加',
    'mon_fri': '月 - 金',
    'fun_games': '楽しいゲーム',
    'book_session': 'セッション予約',
    'contact': '連絡先',

    // Contact
    'contact.header_title': "魔法を起こそう！",
    'contact.header_subtitle': "セッションの予約は、より幸せで健康的な生活への第一歩です。",
    'contact.whatsapp_btn': "WhatsApp",
    'contact.instant_reply': "即時返信",
    'contact.email_btn': "メールを送る",
    'contact.for_enquiries': "お問い合わせ",
    'contact.offerings_title': "提供サービス",
    'contact.offering_1_title': "マンツーマン",
    'contact.offering_1_desc': "パーソナルコーチング",
    'contact.offering_2_title': "企業向け",
    'contact.offering_2_desc': "ストレス解消",
    'contact.offering_3_title': "グループ",
    'contact.offering_3_desc': "ワークショップ",
    'contact.offering_4_title': "リトリート",
    'contact.offering_4_desc': "ウェルネスデー",
    'contact.youtube_btn': "YouTubeで見る",
    'contact.subscribe': "登録する",
    'contact.website_btn': "公式サイトへ",
    'app.developed_by': "アプリ開発",

    // Profile
    'profile.display_name': "表示名",
    'profile.enter_name_placeholder': "名前を入力",
    'profile.phone_number': "電話番号",
    'profile.no_number': "番号がリンクされていません",
    'profile.streak_power': "ストリークパワー",
    'profile.start_today': "今日から始めよう！",
    'profile.bonus': "ボーナス",

    // Games
    'games.title': "AIラフターラボ",
    'games.subtitle_jokes': "一行ジョーク生成",
    'games.subtitle_joy': "実験的喜び生成",
    'games.tab_story': "ストーリー",
    'games.tab_jokes': "ジョーク",
    'games.tab_moods': "気分",
    'games.speaking': "話しています...",
    'games.writing_joke': "ジョークを書いています...",
    'games.brewing_laughter': "笑いを醸造中...",
    'games.funny_mode': "面白いモード",
    'games.ai_mode': "AIモード",
    'games.play_real_laughter': "リアルな笑いを再生",
    'games.offline_voice': "オフライン音声",
    'games.input_placeholder_story': "状況（例：目覚まし時計の失敗）",
    'games.input_placeholder_joke': "トピック（例：猫、上司、コーヒー）",
    'games.input_placeholder_mood': "気分を選んで笑いを聞く",
    'games.btn_joke': "ジョークを言って笑わせて！",
    'games.btn_story': "喜びのストーリーを生成",
    'games.stop_audio': "音声を停止",
    'games.mood_giggle': "くすくす笑い",
    'games.mood_belly': "腹の底からの笑い",
    'games.mood_snort': "鼻を鳴らす笑い",
    'games.mood_cackle': "魔女の笑い"
  }
};

const SettingsContext = createContext<SettingsContextType | undefined>(undefined);

export const SettingsProvider: React.FC<{ children: React.ReactNode }> = ({ children }) => {
  const [theme, setTheme] = useState<Theme>(() => (localStorage.getItem('app_theme') as Theme) || 'light');
  const [language, setLanguage] = useState<Language>(() => (localStorage.getItem('app_lang') as Language) || 'en');
  const [fontSize, setFontSize] = useState<FontSize>(() => (localStorage.getItem('app_fontsize') as FontSize) || 'normal');
  const [dir, setDir] = useState<'ltr' | 'rtl'>('ltr');

  useEffect(() => {
    localStorage.setItem('app_theme', theme);
    if (theme === 'dark') {
      document.documentElement.classList.add('dark');
    } else {
      document.documentElement.classList.remove('dark');
    }
  }, [theme]);

  useEffect(() => {
    localStorage.setItem('app_lang', language);
    document.documentElement.lang = language;
    const direction = language === 'ar' ? 'rtl' : 'ltr';
    document.documentElement.dir = direction;
    setDir(direction);
  }, [language]);

  useEffect(() => {
    localStorage.setItem('app_fontsize', fontSize);
    const sizeMap = {
      small: '14px',
      normal: '16px',
      large: '19px',
      xl: '22px'
    };
    document.documentElement.style.fontSize = sizeMap[fontSize];
  }, [fontSize]);

  const toggleTheme = () => setTheme(prev => prev === 'light' ? 'dark' : 'light');

  const t = (key: string) => {
    return translations[language]?.[key] || translations['en'][key] || key;
  };

  return (
    <SettingsContext.Provider value={{ theme, toggleTheme, language, setLanguage, fontSize, setFontSize, t, dir }}>
      {children}
    </SettingsContext.Provider>
  );
};

export const useSettings = () => {
  const context = useContext(SettingsContext);
  if (!context) throw new Error('useSettings must be used within SettingsProvider');
  return context;
};